#pragma kernel CSMain

struct oscillator {
    float freq;
    float ampl;
    float phase;
};

float time;
RWStructuredBuffer<oscillator> paramBuffer;
RWStructuredBuffer<float> valueBuffer;

[numthreads(32,1,1)]
void CSMain (uint3 id : SV_DispatchThreadID)
{
    oscillator osc = paramBuffer[id.x];
    valueBuffer[id.x] = osc.ampl * sin(osc.freq * (2 * 3.14159 * (time - osc.phase)));
}